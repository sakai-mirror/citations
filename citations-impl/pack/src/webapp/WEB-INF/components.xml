<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springkernel.org/dtd/spring-beans.dtd">

<beans>

  <!-- ConfigurationService bean handles institution-specific configuration
       for the Citations Helper -->
  <bean id="org.sakaiproject.citation.api.ConfigurationService"
    class="org.sakaiproject.citation.impl.BaseConfigurationService"
    init-method="init"
    destroy-method="destroy"
    singleton="true">
    
    <property name="citationsAdminSite"><value>citationsAdmin</value></property>
    <property name="citationsConfigFolder"><value>config</value></property>
    <property name="citationsConfigFile"><value>sakai/citationsConfig.xml</value></property>
    

	<!-- enable/disable entire helper -->
    <property name="citationsEnabledByDefault"><value>false</value></property>
	<property name="allowSiteBySiteOverride"><value>false</value></property>
	
	<!-- enable/disable helper features -->
	<property name="googleSearchEnabled"><value>false</value></property>
  	<property name="librarySearchEnabled"><value>false</value></property>
  	
	<!-- configuration XML file location -->
    <property name="databaseXml"><value>${sakai.home}sakai/org.sakaiproject.citation/categories.xml</value></property>
    <property name="siteConfigXml"><value>${sakai.home}sakai/org.sakaiproject.citation/config.xml</value></property>
    
  	<!-- metasearch engine parameters -->
    <property name="metasearchUsername"><value></value></property>
    <property name="metasearchPassword"><value></value></property>
    <property name="metasearchBaseUrl"><value></value></property>

	<!-- which osid impl package to use
	     for Sirsi SingleSearch: edu.indiana.lib.osid.base.repository.http
	     for Ex Libris MetaLib:  org.sakaibrary.osid.repository.xserver -->
    <property name="osidImpl"><value></value></property>

	<!-- openURL parameters -->
    <property name="openUrlLabel"><value>Get It!</value></property>  <!-- currently unused -->
    <property name="openUrlResolverAddress"><value>http://worldcatlibraries.org/registry/gateway</value></property>

	<!-- google scholar parameters -->
    <property name="googleBaseUrl"><value>http://scholar.google.com/schhp</value></property>
    <property name="sakaiServerKey"><value>ctools.umich.edu</value></property>
    
	<!-- site-specific config/authentication/authorization implementation -->
    <property name="osidConfig"><value>org.sakaiproject.citation.impl.SampleSiteOsidConfiguration</value></property>
	
	<!-- other config services -->
    <property name="sessionManager"><ref bean="org.sakaiproject.tool.api.SessionManager"/></property>
    <property name="serverConfigurationService"><ref bean="org.sakaiproject.component.api.ServerConfigurationService"/></property>
  </bean>

  <bean id="org.sakaiproject.citation.api.CitationService"
    class="org.sakaiproject.citation.impl.DbCitationService"
    init-method="init"
    destroy-method="destroy"
    singleton="true">
    
    <property name="sqlService"><ref bean="org.sakaiproject.db.api.SqlService"/></property>
    <property name="entityManager"><ref bean="org.sakaiproject.entity.api.EntityManager"/></property>
    <property name="contentHostingService"><ref bean="org.sakaiproject.content.api.ContentHostingService"/></property>
    <property name="serverConfigurationService"><ref bean="org.sakaiproject.component.api.ServerConfigurationService"/></property>
    <property name="configurationService"><ref bean="org.sakaiproject.citation.api.ConfigurationService"/></property>
    <property name="autoDdl"><value>${auto.ddl}</value></property>
	<property name="attemptToMatchSchema"><value>true</value></property>
	<property name="resourceTypeRegistry"><ref bean="org.sakaiproject.content.api.ResourceTypeRegistry"/></property>
  </bean>

  <bean id="org.sakaiproject.citation.api.SearchManager"
    class="org.sakaiproject.citation.impl.BaseSearchManager"
    init-method="init"
    destroy-method="destroy"
    singleton="true">

	<property name="sessionManager"><ref bean="org.sakaiproject.tool.api.SessionManager"/></property>
    <property name="configurationService"><ref bean="org.sakaiproject.citation.api.ConfigurationService"/></property>
    <property name="serverConfigurationService"><ref bean="org.sakaiproject.component.api.ServerConfigurationService"/></property>
  </bean>

</beans>
